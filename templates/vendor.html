{% extends "baseAdmin.html" %}

{% block title %}Vendors List{% endblock %}


{% block section2 %}
<div>
    <h3>Vendors List</h3>
</div>
<div class="bs-example">
    <table class="table table-bordered table-striped">
        <thead>
            <tr>
                <th>S.no</th>
                <th>Vendor ID</th>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Email</th>
                <th>Contact no</th>
                <th>Status</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            {% for vendor in vendors %}
            <tr>
                <td>{{ forloop.counter }}</td>
                <td>{{ vendor.user.id }}</td>
                <td>{{ vendor.user.first_name }}</td>
                <td>{{ vendor.user.last_name }}</td>
                <td>{{ vendor.user.email }}</td>
                <td>{{ vendor.phone_no }}</td>
                <td>
                    <div class="status-box">
                        <div class="status-cell {% if vendor.v_status == 'approve' %}status-green{% elif vendor.v_status == 'reject' %}status-red{% else %}status-grey{% endif %}">
                            {{ vendor.get_v_status_display }} <!-- Display the status based on the model field -->
                        </div>
                    </div>
                </td>
                <td>
                    {%if vendor.v_status == 'approve'%}
                        <a href="{% url 'vendor-reject' vendor.user.id %}" class="action-link reject-link" data-status="Rejected"><i>Reject</i></a>
                    {%else%}
                        <a href="{% url 'vendor-approve' vendor.user.id %}" class="action-link approve-link" data-status="Approved"><i>Approve /</i></a>
                    {%endif%}
                    </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
<div class="pagination">
    <span class="step-links">
        {% if vendors.has_previous %}
            <a href="?page=1">&laquo;</a> <!-- First page -->
            <a href="?page={{ vendors.previous_page_number }}">&lsaquo;</a> <!-- Previous page -->
        {% endif %}
        
        <!-- Display a fixed number of page numbers -->
        {% for page_num in vendors.paginator.page_range %}
            <a href="?page={{ page_num }}" {% if page_num == vendors.number %}class="current-page"{% endif %}>{{ page_num }}</a>
        {% endfor %}

        {% if vendors.has_next %}
            <a href="?page={{ vendors.next_page_number }}">&rsaquo;</a> <!-- Next page -->
            <a href="?page={{ vendors.paginator.num_pages }}">&raquo;</a> <!-- Last page -->
        {% endif %}
    </span>
</div>
{% endblock %}




